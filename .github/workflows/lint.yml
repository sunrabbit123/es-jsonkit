name: ğŸ” Lint

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main, develop ]
  workflow_dispatch:

jobs:
  oxlint:
    name: ğŸ” oxlint ê²€ì‚¬
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ“¥ ì†ŒìŠ¤ì½”ë“œ ì²´í¬ì•„ì›ƒ
        uses: actions/checkout@v4

      - name: ğŸ“¦ Node.js ì„¤ì •
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'

      - name: ğŸ“¥ ì˜ì¡´ì„± ì„¤ì¹˜
        run: npm ci

      - name: ğŸ” oxlint ì‹¤í–‰
        run: |
          echo "ğŸ” oxlintë¡œ ì½”ë“œ í’ˆì§ˆì„ ê²€ì‚¬í•©ë‹ˆë‹¤..."
          npm run lint
        
      - name: âœ… Lint ì„±ê³µ
        if: success()
        run: |
          echo "âœ… ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬ê°€ ì„±ê³µì ìœ¼ë¡œ í†µê³¼í–ˆìŠµë‹ˆë‹¤!"
          echo "ğŸ“Š oxlint ê²€ì‚¬ ì™„ë£Œ"

      - name: âŒ Lint ì‹¤íŒ¨
        if: failure()
        run: |
          echo "âŒ ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬ì—ì„œ ë¬¸ì œê°€ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤."
          echo "ğŸ”§ 'npm run lint:fix'ë¥¼ ì‹¤í–‰í•˜ì—¬ ìë™ìœ¼ë¡œ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ë¬¸ì œë“¤ì„ í•´ê²°í•´ë³´ì„¸ìš”."
